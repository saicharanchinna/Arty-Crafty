{"ast":null,"code":"import { LOGOUT, SET_IS_USER_FROM_REGISTER, SET_LOGGED_IN_USER_TOKEN, SET_LOGGED_USER_DATA } from \"../actions/account.action\";\nimport { CommonService } from \"../../shared/services\";\nimport { Misc } from \"../../constants\";\nimport Communications from \"../../shared/services/communications.service\";\nconst INITIAL_STATE = {\n  currentUser: CommonService._localStorage.getItem(Misc.LOCAL_STORAGE_LOGGED_IN_USER_DATA),\n  token: CommonService._localStorage.getItem(Misc.LOCAL_STORAGE_JWT_TOKEN),\n  isUserFromRegister: CommonService._localStorage.getItem(Misc.LOCAL_STORAGE_IS_USER_FROM_REGISTER)\n};\n\nconst accountReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_LOGGED_USER_DATA:\n      const loggedInUser = action.payload;\n\n      CommonService._localStorage.setItem(Misc.LOCAL_STORAGE_LOGGED_IN_USER_DATA, loggedInUser);\n\n      return { ...state,\n        currentUser: loggedInUser\n      };\n\n    case SET_LOGGED_IN_USER_TOKEN:\n      const token = action.payload;\n      console.log(token);\n\n      CommonService._localStorage.setItem(Misc.LOCAL_STORAGE_JWT_TOKEN, token);\n\n      Communications.updateLoginUserTokenSubject.next(token);\n      return { ...state,\n        token: token\n      };\n\n    case SET_IS_USER_FROM_REGISTER:\n      const isUserFromRegister = action.payload;\n\n      CommonService._localStorage.setItem(Misc.LOCAL_STORAGE_IS_USER_FROM_REGISTER, isUserFromRegister);\n\n      return { ...state,\n        isUserFromRegister: isUserFromRegister\n      };\n\n    case LOGOUT:\n      CommonService._localStorage.removeItem(Misc.LOCAL_STORAGE_LOGGED_IN_USER_DATA);\n\n      CommonService._localStorage.removeItem(Misc.LOCAL_STORAGE_JWT_TOKEN);\n\n      Communications.updateLoginUserTokenSubject.next('');\n      return { ...state,\n        token: null,\n        currentUser: null\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default accountReducer;","map":{"version":3,"names":["LOGOUT","SET_IS_USER_FROM_REGISTER","SET_LOGGED_IN_USER_TOKEN","SET_LOGGED_USER_DATA","CommonService","Misc","Communications","INITIAL_STATE","currentUser","_localStorage","getItem","LOCAL_STORAGE_LOGGED_IN_USER_DATA","token","LOCAL_STORAGE_JWT_TOKEN","isUserFromRegister","LOCAL_STORAGE_IS_USER_FROM_REGISTER","accountReducer","state","action","type","loggedInUser","payload","setItem","console","log","updateLoginUserTokenSubject","next","removeItem"],"sources":["/Users/saicharanchinna/Documents/Arty-Crafty-UI/src/store/reducers/account.reducer.ts"],"sourcesContent":["import {IActionModel} from \"../../shared/models/action.model\";\nimport {\n    LOGOUT,\n    SET_IS_USER_FROM_REGISTER,\n    SET_LOGGED_IN_USER_TOKEN,\n    SET_LOGGED_USER_DATA\n} from \"../actions/account.action\";\nimport {CommonService} from \"../../shared/services\";\nimport {Misc} from \"../../constants\";\nimport Communications from \"../../shared/services/communications.service\";\n\nexport interface IAccountReducerState {\n    currentUser: any;\n    token: string | null;\n    isUserFromRegister: any;\n}\n\nconst INITIAL_STATE: IAccountReducerState = {\n    currentUser: CommonService._localStorage.getItem(Misc.LOCAL_STORAGE_LOGGED_IN_USER_DATA),\n    token: CommonService._localStorage.getItem(Misc.LOCAL_STORAGE_JWT_TOKEN),\n    isUserFromRegister: CommonService._localStorage.getItem(Misc.LOCAL_STORAGE_IS_USER_FROM_REGISTER)\n};\n\nconst accountReducer = (state: IAccountReducerState = INITIAL_STATE, action: IActionModel): IAccountReducerState => {\n    switch (action.type) {\n        case SET_LOGGED_USER_DATA:\n            const loggedInUser = action.payload;\n            CommonService._localStorage.setItem(Misc.LOCAL_STORAGE_LOGGED_IN_USER_DATA, loggedInUser);\n            return {\n                ...state,\n                currentUser: loggedInUser,\n            };\n        case SET_LOGGED_IN_USER_TOKEN:\n            const token = action.payload;\n            console.log(token);\n            CommonService._localStorage.setItem(Misc.LOCAL_STORAGE_JWT_TOKEN, token);\n            Communications.updateLoginUserTokenSubject.next(token);\n            return {\n                ...state,\n                token: token,\n            };\n        case SET_IS_USER_FROM_REGISTER:\n            const isUserFromRegister = action.payload;\n            CommonService._localStorage.setItem(Misc.LOCAL_STORAGE_IS_USER_FROM_REGISTER, isUserFromRegister);\n            return {\n                ...state,\n                isUserFromRegister: isUserFromRegister,\n            }\n        case LOGOUT:\n            CommonService._localStorage.removeItem(Misc.LOCAL_STORAGE_LOGGED_IN_USER_DATA);\n            CommonService._localStorage.removeItem(Misc.LOCAL_STORAGE_JWT_TOKEN);\n            Communications.updateLoginUserTokenSubject.next('');\n            return {\n                ...state,\n                token: null,\n                currentUser: null\n            };\n        default:\n            return state;\n    }\n};\n\nexport default accountReducer;\n\n"],"mappings":"AACA,SACIA,MADJ,EAEIC,yBAFJ,EAGIC,wBAHJ,EAIIC,oBAJJ,QAKO,2BALP;AAMA,SAAQC,aAAR,QAA4B,uBAA5B;AACA,SAAQC,IAAR,QAAmB,iBAAnB;AACA,OAAOC,cAAP,MAA2B,8CAA3B;AAQA,MAAMC,aAAmC,GAAG;EACxCC,WAAW,EAAEJ,aAAa,CAACK,aAAd,CAA4BC,OAA5B,CAAoCL,IAAI,CAACM,iCAAzC,CAD2B;EAExCC,KAAK,EAAER,aAAa,CAACK,aAAd,CAA4BC,OAA5B,CAAoCL,IAAI,CAACQ,uBAAzC,CAFiC;EAGxCC,kBAAkB,EAAEV,aAAa,CAACK,aAAd,CAA4BC,OAA5B,CAAoCL,IAAI,CAACU,mCAAzC;AAHoB,CAA5C;;AAMA,MAAMC,cAAc,GAAG,YAA6F;EAAA,IAA5FC,KAA4F,uEAA9DV,aAA8D;EAAA,IAA/CW,MAA+C;;EAChH,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKhB,oBAAL;MACI,MAAMiB,YAAY,GAAGF,MAAM,CAACG,OAA5B;;MACAjB,aAAa,CAACK,aAAd,CAA4Ba,OAA5B,CAAoCjB,IAAI,CAACM,iCAAzC,EAA4ES,YAA5E;;MACA,OAAO,EACH,GAAGH,KADA;QAEHT,WAAW,EAAEY;MAFV,CAAP;;IAIJ,KAAKlB,wBAAL;MACI,MAAMU,KAAK,GAAGM,MAAM,CAACG,OAArB;MACAE,OAAO,CAACC,GAAR,CAAYZ,KAAZ;;MACAR,aAAa,CAACK,aAAd,CAA4Ba,OAA5B,CAAoCjB,IAAI,CAACQ,uBAAzC,EAAkED,KAAlE;;MACAN,cAAc,CAACmB,2BAAf,CAA2CC,IAA3C,CAAgDd,KAAhD;MACA,OAAO,EACH,GAAGK,KADA;QAEHL,KAAK,EAAEA;MAFJ,CAAP;;IAIJ,KAAKX,yBAAL;MACI,MAAMa,kBAAkB,GAAGI,MAAM,CAACG,OAAlC;;MACAjB,aAAa,CAACK,aAAd,CAA4Ba,OAA5B,CAAoCjB,IAAI,CAACU,mCAAzC,EAA8ED,kBAA9E;;MACA,OAAO,EACH,GAAGG,KADA;QAEHH,kBAAkB,EAAEA;MAFjB,CAAP;;IAIJ,KAAKd,MAAL;MACII,aAAa,CAACK,aAAd,CAA4BkB,UAA5B,CAAuCtB,IAAI,CAACM,iCAA5C;;MACAP,aAAa,CAACK,aAAd,CAA4BkB,UAA5B,CAAuCtB,IAAI,CAACQ,uBAA5C;;MACAP,cAAc,CAACmB,2BAAf,CAA2CC,IAA3C,CAAgD,EAAhD;MACA,OAAO,EACH,GAAGT,KADA;QAEHL,KAAK,EAAE,IAFJ;QAGHJ,WAAW,EAAE;MAHV,CAAP;;IAKJ;MACI,OAAOS,KAAP;EAlCR;AAoCH,CArCD;;AAuCA,eAAeD,cAAf"},"metadata":{},"sourceType":"module"}